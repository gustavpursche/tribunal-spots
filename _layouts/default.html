<!DOCTYPE html>
<html lang="{{ page.lang }}">

{% include head.html %}

{% assign spots_collection = 'spots_' | append: page.lang %}
{% assign spots = site[spots_collection] %}

{% assign spots_collections = 'spots_de,spots_en,spots_tr' | split: ',' %}
{% if spots_collections contains page.collection %}
    {% assign current_spot = page %}
{% else %}
    {% assign current_spot = spots.first %}
{% endif %}

{% assign image_url = '/images/' | append: current_spot.slug | append: '.jpg' %}

<style>
.layer__background {
    background: url({{ image_url | relative_url }}) center center/cover no-repeat fixed;
}
</style>

<body>

    <div class="root">

        <div class="layer layer__background">
        </div>

        <div class="layer layer__background-overlay">
        </div>

        <div class="layer layer__spots">

            <main class="spots" aria-label="Content">

                <header class="spots__header">
                    <svg viewbox="0 0 50 25" xmlns="http://www.w3.org/2000/svg">
                        <text x="0" y="15" font-family="Montserrat" font-size="15">
                            SPOTS
                        </text>
                    </svg>
                    <a href="#menu">
                        <svg class="button" width="50" viewbox="0 0 50 25" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 2 L50 2" fill="none" stroke="black" stroke-width="4"/>
                            <path d="M0 10 L50 10" fill="none" stroke="black" stroke-width="4"/>
                            <path d="M0 18 L50 18" fill="none" stroke="black" stroke-width="4"/>
                        </svg>
                    </a>
                </header>

                <section class="spots__slider">
                    <div class="spots__slides">
                        {% for spot in spots %}
                        <div class="spot{% if spot.slug == current_spot.slug %} spot--active{% endif %}" data-slug="{{ spot.slug }}">
                            <h2 class="spot__title">{{ spot.title }}</h2>
                        </div>
                        {% endfor %}
                    </div>

                    <div id="spots__nav--prev" class="spots__nav">
                        {% if page.previous %}
                            {% assign previous_spot = page.previous %}
                        {% else %}
                            {% assign previous_spot = spots.last %}
                        {% endif %}
                        <a href="{{ previous_spot.url | relative_url }}">
                            <svg height="40" viewbox="0 0 25 50" xmlns="http://www.w3.org/2000/svg">
                                <path d="M23 2 L2 25 L23 48" fill="none" stroke="black" stroke-width="3"/>
                            </svg>
                        </a>
                    </div>

                    <div id="spots__nav--next" class="spots__nav">
                        {% if page.next %}
                            {% assign next_spot = page.next %}
                        {% else %}
                            {% assign next_spot = spots.first.next %}
                        {% endif %}
                        <a href="{{ next_spot.url | relative_url }}">
                            <svg height="40" viewbox="0 0 25 50" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2 2 L23 25 L2 48" fill="none" stroke="black" stroke-width="3"/>
                            </svg>
                        </a>
                    </div>
                </section>

                <a id="spots__play" href="http://www.youtube.com/watch?v={{ current_spot.youtube_id }}">
                    <svg width="40"viewbox="0 0 43 50" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 0 L43 25 L0 50" fill="black" stroke="none"/>
                    </svg>
                </a>

            </main>

        </div>

        {% include menu.html lang=page.lang current_spot=current_spot %}

        {% assign pages_collection = 'pages_' | append: page.lang %}
        {% for ppage in site[pages_collection] %}
            {% include page.html page=ppage %}
        {% endfor %}

        <div class="layer layer__video">
            <a id="video__close" class="popup__close" href="#">
                <svg class="close" width="30" viewbox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 0 L50 50" fill="none" stroke="white" stroke-width="4"/>
                    <path d="M50 0 L0 50" fill="none" stroke="white" stroke-width="4"/>
                </svg>
            </a>
        </div>        

    </div>

<script src="{{ '/assets/scripts/main.js' | relative_url }}"
        async
        defer></script>

</body>

</html>